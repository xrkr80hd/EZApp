<!DOCTYPE html>
<html>
<head>
<title>Onyx Form Coordinate Picker</title>
<style>
body { margin: 0; background: #222; color: #fff; font-family: monospace; }
#info { position: fixed; top: 10px; left: 10px; background: rgba(0,0,0,0.85); padding: 12px 16px; border-radius: 8px; z-index: 10; font-size: 14px; }
#log { position: fixed; top: 10px; right: 10px; background: rgba(0,0,0,0.85); padding: 12px 16px; border-radius: 8px; z-index: 10; font-size: 12px; max-height: 90vh; overflow-y: auto; min-width: 280px; }
#log div { margin-bottom: 4px; }
canvas { cursor: crosshair; display: block; margin: 0 auto; }
.coord { color: #6366f1; }
</style>
</head>
<body>
<div id="info">Click on the image to log coordinates. Hover to see live position.<br><span id="live">x: 0, y: 0</span></div>
<div id="log"><strong>Clicked Coordinates:</strong><br><br></div>
<canvas id="c"></canvas>
<script>
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
const live = document.getElementById('live');
const log = document.getElementById('log');
const img = new Image();
img.src = '/images/onyx-form.jpg';
img.onload = () => {
  canvas.width = img.naturalWidth;
  canvas.height = img.naturalHeight;
  ctx.drawImage(img, 0, 0);
};
canvas.addEventListener('mousemove', (e) => {
  const r = canvas.getBoundingClientRect();
  const sx = canvas.width / r.width;
  const sy = canvas.height / r.height;
  const x = Math.round((e.clientX - r.left) * sx);
  const y = Math.round((e.clientY - r.top) * sy);
  live.textContent = `x: ${x}, y: ${y}`;
});
let clickCount = 0;
canvas.addEventListener('click', (e) => {
  const r = canvas.getBoundingClientRect();
  const sx = canvas.width / r.width;
  const sy = canvas.height / r.height;
  const x = Math.round((e.clientX - r.left) * sx);
  const y = Math.round((e.clientY - r.top) * sy);
  clickCount++;
  // draw a small red dot
  ctx.fillStyle = 'red';
  ctx.beginPath();
  ctx.arc(x, y, 4, 0, Math.PI * 2);
  ctx.fill();
  // label it
  ctx.fillStyle = '#fff';
  ctx.font = '12px monospace';
  ctx.fillText(`${clickCount}: (${x},${y})`, x + 8, y + 4);
  // log it
  const div = document.createElement('div');
  div.innerHTML = `<span class="coord">${clickCount}.</span> x: <b>${x}</b>, y: <b>${y}</b>`;
  log.appendChild(div);
});
</script>
</body>
</html>
